import{r as l,c as u,b as d,d as e,I as v,l as g,D as i,E as c,t as b,h as y,a1 as w,G as p}from"./index-vMg8J8wk.js";const h={class:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8"},k={class:"max-w-md w-full space-y-8 p-10 bg-white rounded-xl shadow-lg z-10"},V={class:"rounded-md shadow-sm -space-y-px"},z={key:0,class:"text-red-500 text-sm text-center"},j={__name:"Login",setup(M){const a=l(""),n=l(""),r=l(""),m=w(),x=async()=>{r.value="";try{const s=await fetch("http://localhost:3000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.value,password:n.value})});if(!s.ok){const f=await s.json();throw new Error(f.message||"Échec de la connexion")}const o=(await s.json()).token;p.setToken(o),p.setIsAdmin(!0),m.push("/")}catch(s){console.error("Erreur de connexion:",s.message),r.value=s.message}};return(s,t)=>(d(),u("div",h,[e("div",k,[t[5]||(t[5]=e("div",{class:"text-center"},[e("h2",{class:"mt-6 text-3xl font-extrabold text-gray-900"}," Connexion Administrateur "),e("p",{class:"mt-2 text-sm text-gray-600"}," Connectez-vous pour accéder au panneau d'administration ")],-1)),e("form",{class:"mt-8 space-y-6",onSubmit:v(x,["prevent"])},[e("div",V,[e("div",null,[t[2]||(t[2]=e("label",{for:"username",class:"sr-only"},"Nom d'utilisateur",-1)),i(e("input",{id:"username",name:"username",type:"text",autocomplete:"username",required:"","onUpdate:modelValue":t[0]||(t[0]=o=>a.value=o),class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Nom d'utilisateur"},null,512),[[c,a.value]])]),e("div",null,[t[3]||(t[3]=e("label",{for:"password",class:"sr-only"},"Mot de passe",-1)),i(e("input",{id:"password",name:"password",type:"password",autocomplete:"current-password",required:"","onUpdate:modelValue":t[1]||(t[1]=o=>n.value=o),class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe"},null,512),[[c,n.value]])])]),r.value?(d(),u("div",z,b(r.value),1)):g("",!0),t[4]||(t[4]=e("div",null,[e("button",{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[e("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[e("svg",{class:"h-5 w-5 text-blue-500 group-hover:text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2V7a3 3 0 00-6 0v2h6z","clip-rule":"evenodd"})])]),y(" Se connecter ")])],-1))],32)])]))}};export{j as default};
